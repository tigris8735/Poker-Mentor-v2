# Техническое задание: Poker Mentor

## 1. Обзор проекта

- Проект: Telegram бот для обучения игре в покер с AI
- Команда: 2 человека (Full-stack разработчик + AI/Data Engineer)
- Срок реализации MVP: 3 месяца
- Технологический стек: Python, FastAPI, PostgreSQL, Redis, PyTorch, Docker

## 2. Цели и рамки MVP

### 2.1. Основной функционал MVP

✅ Базовая игровая механика Техасского Холдема

✅ 4 типа AI оппонентов (Fish, TAG, LAG, Nit)

✅ Система анализа одной раздачи

✅ История сыгранных рук

✅ Пользовательские профили и статистика

### 2.2. Вне рамок MVP (Phase 2)
- Турнирная система

- Мультистолы

- Продвинутая аналитика

- Монетизация

- Мобильное приложение

## 3. Команда и распределение ролей

### Разработчик 1: участник группы ( стедент)

### Разработчик 2: участник группы ( стедент) 

## 4. Детальный план разработки

### Фаза 1: Фундамент (Недели 1-4)

Неделя 1-2: Настройка инфраструктуры

**Задачи:**
- [ ] Настройка репозитория и CI/CD
- [ ] Docker-контейнеризация
- [ ] Базовая конфигурация Telegram Bot
- [ ] Проектирование схемы БД
- [ ] Развертывание dev-окружения

**Ресурсы:** 40 человеко-часов
**Результат:** Готовое dev-окружение, базовый бот отвечает на /start

Неделя 3-4: База данных и пользователи

**Задачи:**
- [ ] Реализация моделей User, GameSession, HandHistory
- [ ] Система аутентификации через Telegram
- [ ] CRUD операции для пользователей
- [ ] Миграции базы данных
- [ ] Кэширование сессий (Redis)

**Ресурсы:** 60 человеко-часов  
**Результат:** Работающая система пользователей, сохранение базовых данных

### Фаза 2: Игровое ядро (Недели 5-8)
Неделя 5-6: Логика покера

**Задачи:**
- [ ] Движок раздачи карт и shuffle
- [ ] Логика торговых раундов (preflop, flop, turn, river)
- [ ] Определение победителя (hand ranking)
- [ ] Валидация ходов игрока
- [ ] Расчет банков и side pots

**Ресурсы:** 80 человеко-часов  
**Результат:** Рабочий покерный движок, прохождение полной раздачи

Неделя 7-8: Базовый AI

**Задачи:**
- [ ] Реализация Fish AI (случайные действия)
- [ ] Реализация Nit AI (тайтовый префлоп, пассивный постфлоп)
- [ ] Интеграция AI в игровой процесс
- [ ] Система принятия решений AI
- [ ] Базовые стратегии для каждого типа AI

**Ресурсы:** 70 человеко-часов  
**Результат:** 2 работающих типа AI оппонентов

### Фаза 3: AI и аналитика (Недели 9-12)

Неделя 9-10: Продвинутые AI

**Задачи:**
- [ ] Реализация TAG AI (балансированная стратегия)
- [ ] Реализация LAG AI (агрессивная стратегия)
- [ ] ML-модель для принятия решений
- [ ] Адаптация AI к стилю игрока
- [ ] Балансировка сложности AI

**Ресурсы:** 80 человеко-часов  
**Результат:** 4 типа AI оппонентов с разными стилями игры

Неделя 11-12: Система анализа

**Задачи:**
- [ ] Анализ EV ключевых решений
- [ ] Расчет equity рук
- [ ] Генерация рекомендаций
- [ ] Визуализация анализа в боте
- [ ] Система оценки сыгранной руки (1-10)

**Ресурсы:** 60 человеко-часов  
**Результат:** Детальный анализ каждой сыгранной раздачи

### Фаза 4: Полировка и запуск (Недели 13-14)

Неделя 13: UI/UX и интерфейсы

**Задачи:**
- [ ] Интерактивные клавиатуры для игры
- [ ] Web App для сложных интерфейсов
- [ ] Система меню и навигации
- [ ] Уведомления и состояния
- [ ] Обработка ошибок пользователя

**Ресурсы:** 50 человеко-часов  
**Результат:** Удобный и интуитивный интерфейс

Неделя 14: Тестирование и деплой

**Задачи:**
- [ ] Нагрузочное тестирование
- [ ] Юнит-тесты для игровой логики
- [ ] Интеграционные тесты
- [ ] Деплой на production
- [ ] Мониторинг и логирование

**Ресурсы:** 40 человеко-часов  
**Результат:** Стабильный бот в production

## 5. Оценка ресурсов и сроков

**Сводная таблица трудозатрат**

|фаза|недели|часы|осн. результаты|
|----|------|----|---------------|
|Фундамент|1-4|100 ч|	Базовая инфраструктура, система пользователей|
|Игровое ядро|5-8|	150 ч|Рабочий покерный движок, 2 типа AI|
|AI и аналитика|9-12|	140 ч|	4 типа AI, система анализа рук|
|Полировка|13-14|90 ч|UI/UX, тестирование, деплой|
|Итого|14|480 ч|	Готовый MVP|


**Инфраструктурные требования**
```yalm
Production сервер:
  CPU: 4+ ядер
  RAM: 8+ GB
  Storage: 100 GB SSD
  OS: Ubuntu 20.04+
  
Базы данных:
  PostgreSQL: 10+ 
  Redis: 6+
  
Пропускная способность:
  Одновременные пользователи: 100+
  Время ответа AI: < 2 секунд
  ```

## 6. Критерии приемки

**Функциональные требования**

- Бот стабильно работает 24/7 с uptime 99%

- Игровая сессия завершается без ошибок в 95% случаев

- AI делает решения за < 2 секунды

- Анализ раздачи генерируется за < 5 секунд

- Данные пользователей не теряются при перезапуске

**Качественные требования**

- Интерфейс интуитивно понятен новичкам

- AI оппоненты демонстрируют заявленные стили игры

- Рекомендации по анализу полезны и точны

- Система масштабируется до 1000 пользователей

## 7. Риски и mitigation

**Технические риски** 


|Риск|	Вероятность	|Влияние|	Меры mitigation|
|----|--------------|-------|------------------|
|Сложность AI|Высокая|Высокое|Начать с rule-based, постепенно добавлять ML|
|Производительность|Средняя|Среднее|Кэширование, асинхронная обработка|
|Масштабируемость|Низкая|Высокое|Микросервисная архитектура с начала|



**Командные риски**


|Риск|Вероятность|Влияние|Меры mitigation|
|----|-----------|-------|---------------|
|Переоценка сроков|Высокая|Среднее	|Регулярные демо, гибкое планирование|
|Технический долг|Средняя|Среднее|Code review, технические спринты|

## 8. Дорожная карта после MVP

### Phase 2 (Месяцы 4-6)
- Турнирная система

- Рейтинги и лидерборды

- Социальные функции

- Продвинутая аналитика

### Phase 3 (Месяцы 7-9)
- Монетизация (премиум функции)

- Мобильное приложение

- Интеграции с покер-румами

- Комьюнити фичи

## Для справки :

**MVP (Minimum Viable Product - Минимально жизнеспособный продукт)**
```Что это:
MVP - это версия продукта с минимальным набором функций, достаточным для:

Решения основной проблемы пользователей

Получения обратной связи от первых пользователей

Проверки гипотез о полезности продукта

Дальнейшего развития на основе реальных данных

Аналогия из жизни:
Представьте, что вы хотите открыть кофейню. MVP - это киоск с одним видом кофе и выпечкой, чтобы проверить, будут ли люди покупать кофе в этом месте. Не нужно сразу строить трёхэтажное кафе с 50 видами напитков.

В контексте Poker Mentor:
Наш MVP включает только:

Базовую игру против AI

4 типа оппонентов

Простой анализ рук

Систему пользователей

Что НЕ входит в MVP:

Турниры

Сложная аналитика

Социальные функции

Мобильное приложение
```

**Phase (Фаза/Этап)**
```Что это:
Phase - это логически завершённый этап разработки, который:

Имеет четкие цели и результаты

Ограничен по времени

Содержит связанные задачи

Завершается конкретным deliverable (результатом)

Зачем нужно:

Упрощает планирование и контроль

Позволяет сосредоточиться на конкретных задачах

Дает ощущение прогресса при завершении каждой фазы

Облегчает управление рисками

В контексте Poker Mentor:

Phase 1: Фундамент (4 недели) - базовая инфраструктура

Phase 2: Игровое ядро (4 недели) - логика покера

Phase 3: AI и аналитика (4 недели) - интеллект и анализ

Phase 4: Полировка (2 недели) - UI/UX и запуск
```
**Mitigation (Снижение рисков)**
```Что это:
Mitigation - это proactive действия по уменьшению вероятности или impact (влияния) потенциальных проблем.

Три уровня работы с рисками:

Предотвращение - сделать так, чтобы риск не произошел

Mitigation - снизить ущерб, если риск всё-таки случится

Контингенси план - план действий "если всё пошло не так"

Примеры из Poker Mentor:

Риск: "AI слишком сложно разработать"

Mitigation: Начать с простых rule-based алгоритмов, постепенно добавляя ML

Риск: "Производительность бота низкая"

Mitigation: Заложить кэширование и асинхронную обработку с самого начала

Риск: "Сроки затягиваются"

Mitigation: Регулярные демо, гибкое планирование, приоритизация

Важно: Mitigation - это не устранение рисков полностью, а снижение их влияния до приемлемого уровня.
```

### Почему это важно для проекта
MVP помогает не потратить месяцы на разработку того, что никому не нужно
Phases позволяют разбить огромную задачу на управляемые куски
Mitigation предотвращает катастрофические последствия непредвиденных проблем
